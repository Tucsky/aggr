import{n as t,D as e,T as s,a as i,B as a,L as n,s as o,p as r,e as c,d as l,g as h,c as u,w as d,i as p,b as g,f as m}from"./index.5c4cb14.js";const f=25,b={};let y=[];const k=t({mixins:[e],components:{ToggableSection:s,Dialog:i,Btn:a,Loader:n},props:{paneId:{required:!1},pristine:{type:Boolean,default:!1},input:{type:String,default:null}},data:()=>({page:0,query:"",markets:[],maxPages:5,selection:[],isLoading:!1,noResultsPng:"/aggr/noresults.5c4cb14.png",noResultsMessage:null,isPreloading:!1,productsReady:!1,selectedPaneId:null,cacheTimestamp:0,originalSelection:[],activeIndex:null,mobileShowFilters:!1,canRefreshProducts:!0,quoteCurrencies:["USD","USDT","FDUSD","UST","USDC","USDD","TUSD","ETH","BTC","BNB","EUR","AUD","GBP","OTHERS"]}),computed:{previousSearchSelections(){return this.$store.state.settings.previousSearchSelections},paneName(){if(!this.selectedPaneId)return"n/a";const t=this.$store.getters["panes/getName"](this.selectedPaneId);return t.trim().length?t:this.$store.state.panes.panes[this.selectedPaneId].type},activeMarkets(){return Object.keys(this.$store.state.panes.marketsListeners)},paneMarkets(){return this.selectedPaneId?this.$store.state.panes.panes[this.selectedPaneId].markets:[]},toConnect(){return this.selectedPaneId?this.selection.filter((t=>-1===this.paneMarkets.indexOf(t))).length:this.selection.filter((t=>-1===this.activeMarkets.indexOf(t))).length},toDisconnect(){return this.originalSelection.filter((t=>-1===this.selection.indexOf(t))).length},submitLabel(){const t=+this.toConnect,e=+this.toDisconnect;return!this.selection.length&&e?`disconnect (${e})`:t?`connect (${t})`:"refresh"},searchTypes(){return this.$store.state.settings.searchTypes},searchQuotes(){const t=this.$store.state.settings.searchQuotes;return this.quoteCurrencies.reduce(((e,s)=>(e[s]=void 0!==t[s]&&t[s],e)),{})},quotesCount(){return Object.values(this.searchQuotes).filter((t=>!!t))},allQuotes(){return!this.quotesCount.length},exchanges(){return this.$store.getters["exchanges/getExchanges"]},searchExchanges(){const t=this.$store.state.settings.searchExchanges;return Object.keys(this.$store.state.exchanges).reduce(((e,s)=>(this.$store.state.exchanges[s].disabled||(e[s]=void 0===t[s]||t[s]),e)),{})},allExchangesEnabled(){return void 0===Object.values(this.searchExchanges).find((t=>!1===t))},hasFilters(){const t=this.searchTypes.historical,e=this.searchTypes.spots,s=this.searchTypes.perpetuals,i=this.searchTypes.futures;return this.searchTypes.mergeUsdt||t||e||s||i},historicalMarkets(){return this.$store.state.app.historicalMarkets},queryFilter:function(){const t=this.query.replace(/[ ,]/g,"|").replace(/(^|\w|\s)\*(\w|\s|$)/g,"$1.*$2");return this.searchTypes.normalize?new RegExp("^"+t,"i"):new RegExp(t,"i")},filteredProducts(){this.cacheTimestamp;const t=this.searchTypes.historical,e=this.searchTypes.spots,s=this.searchTypes.perpetuals,i=this.searchTypes.futures,a=this.searchExchanges,n=e||s||i,o=this.searchQuotes,r=this.allQuotes,c=this.historicalMarkets;return y.filter((l=>(!t||-1!==c.indexOf(l.id))&&(!(!r&&("boolean"==typeof o[l.quote]&&!1===o[l.quote]||"boolean"!=typeof o[l.quote]&&!o.OTHERS))&&(!!a[l.exchange]&&(!n||!(!i&&"future"===l.type||!s&&"perp"===l.type||!e&&"spot"===l.type))))))},marketsByPair:function(){const t=this.searchTypes,e=this.selection,s=this.queryFilter;return t.normalize?this.filteredProducts.filter((t=>-1===e.indexOf(t.id)&&s.test(t.local))).reduce(((e,s)=>{let i;return i=s&&t.mergeUsdt?s.base+o(s.quote):s.base+s.quote,e[i]||(e[i]=[]),e[i].push(s.id),e}),{}):{}},results:function(){const t=this.page*f,e=this.selection,s=this.queryFilter;if(this.searchTypes.normalize){const e=this.marketsByPair;return Object.keys(e).slice(t,t+f).map((t=>({localPair:t,markets:e[t],exchanges:e[t].reduce(((t,e)=>{const[s,i]=r(e),a=s.replace(/_.*/,"");return t[a]||(t[a]=[]),t[a].push(i),t}),{})})))}return this.filteredProducts.filter((t=>-1===e.indexOf(t.id)&&s.test(t.id)))},slicedResults(){if(this.searchTypes.normalize)return this.results;const t=this.page*f;return this.results.slice(t,t+f)},pagesCount(){return this.searchTypes.normalize?Math.ceil(Object.keys(this.marketsByPair).length/f):Math.ceil(this.results.length/f)},pagination(){let t,e;const s=Math.floor(this.maxPages/2);return this.pagesCount<=this.maxPages?(t=0,e=this.pagesCount-1):this.page<s?(t=0,e=this.maxPages-1):this.page>=this.pagesCount-s?(t=this.pagesCount-this.maxPages,e=this.pagesCount-1):(t=this.page-s,e=this.page+(this.maxPages-s-1)),Array.from({length:e-t+1},((e,s)=>s+t))},selectedProducts:function(){return this.selection.map((t=>b[t]||{id:t}))},groupedSelection:function(){return this.selection.reduce(((t,e)=>{const s=b[e];let i=e;return s&&(i=s&&this.searchTypes.mergeUsdt?s.base+o(s.quote):s.base+s.quote),t[i]||(t[i]=[]),t[i].push(e),t}),{})},groupsCount(){return Object.keys(this.groupedSelection).length},showNoResults(){return!this.isPreloading&&!this.pagesCount}},watch:{"$store.state.app.showSearch":function(t){t||this.close(!1)},async searchExchanges(){await this.ensureIndexedProducts()&&this.cacheProducts()},showNoResults(t){t&&(this.noResultsMessage=this.getNoResultsMessage())},pagesCount(){this.page=0}},async created(){this.selectedPaneId=this.paneId,this.initSelection(),this.isPreloading=!0,await this.ensureIndexedProducts(),this.isPreloading=!1,this.cacheProducts()},async mounted(){document.addEventListener("paste",this.onPaste),document.addEventListener("keydown",this.onKeydown),await this.$nextTick(),this.maxPages=this.getMaxPages(),this.$refs.input&&(this.input&&!window.event&&0!==this.$refs.input.value.indexOf(this.input)&&(this.query=this.input+this.query),this.$refs.input.focus())},beforeDestroy(){document.removeEventListener("paste",this.onPaste),document.removeEventListener("keydown",this.onKeydown),this._hideHistoryTimeout&&clearTimeout(this._hideHistoryTimeout)},methods:{onInput(t){this.page=0,this.query=t.target.value,this.activeIndex=0},onResize(){this.maxPages=this.getMaxPages()},getMaxPages(){return"small"===this.$refs.dialog.currentSize?3:"medium"===this.$refs.dialog.currentSize?5:10},async ensureIndexedProducts(){const t=this.selection.reduce(((t,e)=>{const[s]=r(e);return t[s]||(t[s]=!0),t}),{}),e={...this.searchExchanges,...t},s=await c(e);return this.productsReady=!0,!!s},async detargetPane(){this.$store.commit("app/SET_FOCUSED_PANE",null),this.selectedPaneId=null,(this.selection.join("")===this.originalSelection.join("")||await l.confirm({title:"Override selection ?",message:"Replace the existing selection<br>with the app's current active connections ?",html:!0}))&&this.initSelection()},initSelection(){this.pristine||(this.selectedPaneId?this.selection=this.$store.state.panes.panes[this.selectedPaneId].markets.slice():this.selection=this.activeMarkets.slice(),this.originalSelection=this.selection.slice())},hasMultipleMarketsConfigurations(){return Object.keys(this.$store.state.panes.panes).map((t=>h(this.$store.state.panes.panes[t].markets))).filter(((t,e,s)=>s.indexOf(t)===e)).length>1},async toggleMarkets(t,e){const s=this.$refs.selection.scrollTop;if(Array.isArray(t)||(t=[t]),e)return this.$store.commit("settings/REMOVE_SEARCH_HISTORY",t),void clearTimeout(this._hideHistoryTimeout);for(const i of t)this.toggleMarket(i);await this.$nextTick(),this.$refs.input.focus(),this.$refs.selection.scrollTop=s},toggleMarket(t){const e=this.selection.indexOf(t);-1===e?(this.selection.push(t),this.cacheSelectedProducts(t)):(this.selection.splice(e,1),this.cacheSelectedProducts(t,!0))},async submit(){if(this.selection.length&&this.$store.dispatch("settings/saveSearchSelection",this.selection),this.selectedPaneId)this.isLoading=!0,this.$store.dispatch("panes/setMarketsForPane",{id:this.selectedPaneId,markets:this.selection});else{if(this.hasMultipleMarketsConfigurations()&&!(await l.confirm("Override the other panes market filters")))return;this.isLoading=!0,Object.keys(this.$store.state.panes.panes).length||await this.$store.dispatch("panes/addPane",{type:"trades"}),await this.$store.dispatch("panes/setMarketsForAll",this.selection)}this.isLoading=!1,this.hide()},hide(){this.$store.dispatch("app/hideSearch")},toggleType(t){this.$store.commit("settings/TOGGLE_SEARCH_TYPE",t)},toggleExchange(t,e){t.shiftKey&&(this.toggleAll(!1),t.target.checked||(t.target.checked=!0)),this.$store.commit("settings/TOGGLE_SEARCH_EXCHANGE",e)},clearSelection(){this.selection.splice(0,this.selection.length),this.query="",this.$refs.input.focus(),this.cacheSelectedProducts(null,!0)},copySelection(){u(this.selection.join(",")),this.$store.dispatch("app/showNotice",{id:"products-clipboard",title:`Copied ${this.selection.length} product(s) to clipboard`})},clearFilters(){this.$store.commit("settings/CLEAR_SEARCH_FILTERS"),this.toggleAll(!0)},onPaste(t){if(document.activeElement&&"INPUT"===document.activeElement.tagName)return;const e=t.clipboardData.getData("text/plain").split(",").filter((t=>/^.{3,}:.{4,32}$/.test(t)));e.length&&(this.selection=e)},onKeydown(t){if(l.isDialogOpened("prompt"))return!1;switch(t.key){case"Enter":t.preventDefault(),this.slicedResults[this.activeIndex]?(this.searchTypes.normalize?this.toggleMarkets(this.slicedResults[this.activeIndex].markets):this.toggleMarkets([this.slicedResults[this.activeIndex].id]),0===this.activeIndex&&(this.activeIndex=-1)):null!==this.activeIndex&&-1!==this.activeIndex||this.submit();break;case"ArrowDown":case"ArrowUp":this.pagesCount&&("ArrowUp"===t.key?this.activeIndex=Math.max(-1,this.activeIndex-1):null===this.activeIndex?this.activeIndex=0:this.activeIndex=Math.min(this.slicedResults.length-1,this.activeIndex+1));break;case"Backspace":case"Delete":this.deleteLast();break;case"c":!t.ctrlKey&&!t.metaKey||window.getSelection().toString().length||this.copySelection()}},deleteLast(){if(!this.query.length&&this.selection.length)if(this.searchTypes.normalize){const t=Object.keys(this.groupedSelection).pop();this.toggleMarkets(this.groupedSelection[t])}else this.selection.splice(this.selection.length-1,1)},goPage(t){this.page=t},addAll(){const t=this.searchTypes.normalize,e=[];for(let s=0;s<this.slicedResults.length;s++)if(t)for(const t of this.slicedResults[s].markets)e.push(t);else e.push(this.slicedResults[s].id);this.toggleMarkets(e)},toggleAll(t){"boolean"!=typeof t&&(t=Boolean(!this.allExchangesEnabled)),this.$set(this.$store.state.settings,"searchExchanges",this.exchanges.reduce(((e,s)=>(e[s]=!!t,e)),{}))},async refreshExchangeProducts(t){if(!t){if(await l.confirm("Download all exchange's products ?\n\nThis might take a while."))for(const t of this.exchanges)await this.refreshExchangeProducts(t);return}this._refreshProductsTimeout&&clearTimeout(this._refreshProductsTimeout),this.canRefreshProducts=!1,this.$store.dispatch("app/showNotice",{id:t,title:`Refreshing ${t}'s products...`}),await d.deleteProducts(t);const e=(await p(t,await g(t,!0))).length;this.$store.dispatch("app/showNotice",{id:t,title:`Saved ${e} ${t}'s products`}),await this.$store.dispatch("exchanges/disconnect",t),await this.$store.dispatch("exchanges/connect",t),this._refreshProductsTimeout=setTimeout((()=>{this._refreshProductsTimeout=null,this.canRefreshProducts=!0}),1e4),this.cacheProducts()},cacheProducts(){y=Array.prototype.concat(...Object.values(m)),this.cacheSelectedProducts(),this.selection=[...this.selection],this.cacheTimestamp=Date.now()},cacheSelectedProducts(t,e=!1){for(const s of this.selection){if(t&&s!==t)continue;if(e){delete b[s];continue}const[i]=r(s),a=m[i];if(!a)continue;const n=a.find((t=>t.id===s));if(b[s]=n,t)break}},getNoResultsMessage(){const t=["Oops! Looks like the market's playing hide and seek. <button>Try searching again</button>! 🐮🐻💰","Bulls and bears are puzzled! No coins found.","The market's taking a breather. <button>Try another search</button>!","Even our bullish friend couldn't find that coin!","Bear with us! No coins matched your search.","Lost in the crypto maze? <button>Let's search again</button>!","Coins in limbo! Adjust your filters or <button>try a new term</button>.","Our bear's got the blues, no results found!","Tales of the missing coins! <button>Refine your search</button>.","Crypto hideout! Nothing turned up, <button>try again</button>.","Coins playing hard to get? <button>Let's give it another shot</button>!"];return t[Math.floor(Math.random()*t.length)]}}},(function(){var t=this,e=t._self._c;return e("Dialog",{ref:"dialog",staticClass:"search-dialog",attrs:{size:"wide"},on:{resize:t.onResize,clickOutside:t.hide},scopedSlots:t._u([{key:"header",fn:function(){return[t.selectedPaneId?e("div",[e("div",{staticClass:"dialog__title"},[t._v(" Connect → "),e("code",{staticClass:"-filled -green"},[e("span",[t._v(t._s(t.paneName))])]),e("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -small ml4 -text -no-grab",attrs:{type:"button",title:"Connect to all"},on:{click:t.detargetPane}},[e("i",{staticClass:"icon-cross"})])])]):e("div",[e("div",{staticClass:"dialog__title"},[t._v("Manage connections")])]),t.isLoading||t.isPreloading?e("Loader",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"mtauto mbauto mr0",attrs:{small:"",title:"Updating database..."}}):t._e(),e("div",{staticClass:"column -center"})]},proxy:!0},{key:"footer",fn:function(){return[e("btn",{staticClass:"btn -text mrauto search-dialog__side-toggle",on:{click:function(e){t.mobileShowFilters=!t.mobileShowFilters}}},[e("i",{staticClass:"icon-cog"})]),e("a",{staticClass:"btn -text",attrs:{href:"javascript:void(0);"},on:{click:t.hide}},[t._v("Cancel")]),e("btn",{staticClass:"-large -green ml8",attrs:{loading:t.isLoading},nativeOn:{click:function(e){return t.submit.apply(null,arguments)}}},[t._v(" "+t._s(t.submitLabel)+" ")])]},proxy:!0}])},[e("div",{staticClass:"search-dialog__side hide-scrollbar",class:{"-show":t.mobileShowFilters}},[e("ToggableSection",{attrs:{title:"Extras",persistent:"",id:"search-extras"}},[e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.normalize},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","normalize")}}}),e("div"),e("span",[t._v("Group by pair")])]),e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.mergeUsdt},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","mergeUsdt")}}}),e("div"),e("span",[t._v("Merge stablecoins")])]),e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.historical},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","historical")}}}),e("div"),e("span",[t._v("With historical data")])]),e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.recent},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","recent")}}}),e("div"),e("span",[t._v("Show recents")])])]),e("ToggableSection",{attrs:{title:"Exchanges",id:"search-exchanges"},scopedSlots:t._u([{key:"control",fn:function(){return[e("label",{staticClass:"checkbox-control -small flex-right"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.allExchangesEnabled},on:{change:t.toggleAll}}),e("div")])]},proxy:!0}])},[t._l(t.exchanges,(function(s){return[t.$store.state.exchanges[s].disabled?t._e():e("label",{key:s,staticClass:"checkbox-control -small mb4 -custom hide-scrollbar"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:!1!==t.searchExchanges[s]},on:{click:function(e){return t.toggleExchange(e,s)}}}),e("div",{class:"icon-"+s}),e("span",[e("span",{domProps:{textContent:t._s(s)}}),t.canRefreshProducts?e("a",{directives:[{name:"tippy",rawName:"v-tippy",value:{boundary:"window",placement:"left"},expression:"{ boundary: 'window', placement: 'left' }"}],staticClass:"-text",attrs:{href:"javascript:void(0);",title:`Refresh ${s}'s products`},on:{click:function(e){return e.stopPropagation(),t.refreshExchangeProducts(s)}}},[e("i",{staticClass:"icon-refresh ml8 mr8"})]):t._e()])])]}))],2),e("ToggableSection",{attrs:{title:"Type",id:"search-type"}},[e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.spots},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","spots")}}}),e("div"),e("span",[t._v("Spots")])]),e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.perpetuals},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","perpetuals")}}}),e("div"),e("span",[t._v("Perpetuals")])]),e("label",{staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.searchTypes.futures},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_TYPE","futures")}}}),e("div"),e("span",[t._v("Futures")])])]),e("ToggableSection",{attrs:{id:"search-quotes"},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"toggable-section__title"},[t._v(" Currency "),t.quotesCount.length?e("span",{staticClass:"badge -red ml8 mr8"},[t._v(t._s(t.quotesCount.length))]):t._e()])]},proxy:!0}])},t._l(t.quoteCurrencies,(function(s){return e("label",{key:s,staticClass:"checkbox-control -small mb4"},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:!0===t.searchQuotes[s]||void 0===t.searchQuotes[s]},on:{change:function(e){return t.$store.commit("settings/TOGGLE_SEARCH_QUOTE",{key:s,value:e.target.checked})}}}),e("div"),e("span",[t._v(t._s(s))])])})),0)],1),e("div",{staticClass:"search-dialog__wrapper hide-scrollbar"},[e("div",{ref:"selection",staticClass:"search-dialog-selection search-dialog__tags form-control hide-scrollbar",class:t.groupsCount<10&&"-sticky",on:{click:function(e){return t.$refs.input.focus()}}},[t.searchTypes.normalize?t._l(t.groupedSelection,(function(s,i){return e("button",{key:i,staticClass:"search-dialog__tags-item btn -green -pill",attrs:{title:"Click to remove "+s.join(", ")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleMarkets(s)}}},[s.length>1?e("span",{staticClass:"badge -green ml8",domProps:{textContent:t._s(s.length)}}):t._e(),e("span",{domProps:{textContent:t._s(i)}})])})):t._l(t.selectedProducts,(function(s){return e("button",{key:s.id,staticClass:"search-dialog__tags-item btn -theme",class:{"-green":-1!==t.activeMarkets.indexOf(s.id)},attrs:{title:`Click to remove ${s.id}`},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleMarkets(s.id)}}},[s.exchange?[e("i",{staticClass:"mr4",class:`icon-${s.exchange}`}),t._v(" "+t._s(s.pair)+" ")]:[t._v(" "+t._s(s.id)+" ")]],2)})),e("input",{ref:"input",staticClass:"search-dialog__tags-item",attrs:{type:"text",placeholder:`Search (${t.filteredProducts.length})`},domProps:{value:t.query},on:{input:t.onInput}})],2),t.query.length||t.selection.length?e("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{boundary:"window",placement:"bottom"},expression:"{ boundary: 'window', placement: 'bottom' }"}],staticClass:"btn search-dialog__tags-delete -text -small",attrs:{title:"Clear"},on:{click:t.clearSelection}},[e("i",{staticClass:"icon-cross"})]):t._e(),e("div",{staticClass:"search-dialog__results hide-scrollbar"},[t.searchTypes.recent&&t.previousSearchSelections.length&&!t.query.length?e("table",{staticClass:"table mt8 search-dialog-recents table--inset"},[e("thead",[e("tr",[e("th",{attrs:{colspan:"100%"}},[t._v(" Search history "),e("button",{staticClass:"btn -small -text",on:{click:function(e){return t.toggleType("recent")}}},[e("i",{staticClass:"icon-cross"})])])])]),e("tbody",t._l(t.previousSearchSelections,(function(s){return e("tr",{key:s.label,staticClass:"-action",on:{click:function(e){return t.toggleMarkets(s.markets,e.shiftKey)}}},[e("td",{staticClass:"search-dialog-recents__label"},[t._v(" "+t._s(s.label)+" "),s.count>1?e("span",{staticClass:"badge -invert ml8",domProps:{textContent:t._s(s.markets.length)}}):t._e()]),e("td",{staticClass:"search-dialog-recents__markets table-ellipsis text-nowrap"},[e("small",[t._v(t._s(s.markets.join(", ")))])])])})),0)]):t._e(),t.searchTypes.normalize?e("table",{staticClass:"table mt8 table--inset"},[e("tbody",t._l(t.slicedResults,(function(s,i){return e("tr",{key:s.localPair,staticClass:"-action",class:{"-active":t.activeIndex===i},on:{click:function(e){return t.toggleMarkets(s.markets)}}},[e("td",{domProps:{textContent:t._s(s.localPair)}}),e("td",{staticClass:"-lower"},[e("span",{staticClass:"search-dialog__group-count"},[e("div",{staticClass:"badge mr8"},[t._v(" "+t._s(s.markets.length)+" ")])]),t._l(s.exchanges,(function(t,s){return e("i",{key:s,staticClass:"pr4 search-dialog__exchange-logo",class:"icon-"+s})}))],2)])})),0)]):e("table",{staticClass:"table table--inset mt8"},[e("tbody",t._l(t.slicedResults,(function(s,i){return e("tr",{key:s.id,staticClass:"-action",class:{"-active":t.activeIndex===i},on:{click:function(e){return t.toggleMarkets([s.id])}}},[e("td",{staticClass:"icon search-dialog__exchange text-center text-color-base",class:"icon-"+s.exchange}),e("td",{domProps:{textContent:t._s(s.exchange)}}),e("td",{domProps:{textContent:t._s(s.pair)}}),e("td",{domProps:{textContent:t._s(s.type)}}),e("td",{staticClass:"text-center"},[-1!==t.historicalMarkets.indexOf(s.id)?e("i",{staticClass:"icon-candlestick",attrs:{title:"historical data available for this market"}}):t._e()])])})),0)]),e("transition",{attrs:{name:"fade-scale"}},[t.isPreloading||t.pagesCount?t._e():e("div",{staticClass:"search-dialog__results-empty",style:{backgroundImage:`url(${t.noResultsPng})`}},[e("p",{staticClass:"shake-horizontal",domProps:{innerHTML:t._s(t.noResultsMessage)},on:{click:function(e){"BUTTON"===e.target.tagName&&t.clearSelection()}}})])])],1),t.pagesCount?e("div",{staticClass:"search-dialog__results-footer mt8 d-flex"},[e("button",{staticClass:"btn -text mrauto",on:{click:t.addAll}},[e("i",{staticClass:"icon-plus mr8"}),t._v(" add all ")]),t._l(t.pagination,(function(s,i){return e("button",{key:i,staticClass:"btn -text search-dialog__results-footer-page",class:[t.page===s&&"-active -theme"],on:{click:function(e){return t.goPage(s)}}},[t._v(" "+t._s(s+1)+" ")])}))],2):t._e()])])}),[],!1,null,"3b761ad8",null,null).exports;export{k as default};
