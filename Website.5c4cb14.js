var e=Object.defineProperty,t=(t,r,s)=>(((t,r,s)=>{r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s})(t,"symbol"!=typeof r?r+"":r,s),s);import{ag as r,_ as s,W as i,C as a,n as o}from"./index.5c4cb14.js";import{P as n,a as l}from"./PaneHeader.5c4cb14.js";var c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,m=(e,t,r,s)=>{for(var i,a=s>1?void 0:s?d(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s?i(t,r,a):i(a))||a);return s&&a&&c(t,r,a),a};let u=class extends(r(n)){constructor(){super(...arguments),t(this,"customId",""),t(this,"_reloadTimeout"),t(this,"$refs")}get locked(){return this.$store.state[this.paneId].locked}get url(){return this.$store.state[this.paneId].url||"https://alternative.me/crypto/fear-and-greed-index.png"}get interactive(){return this.$store.state[this.paneId].interactive}get invert(){return this.$store.state[this.paneId].invert}get reloadTimer(){return this.$store.state[this.paneId].reloadTimer}get zoom(){return this.$store.state.panes.panes[this.paneId].zoom}get style(){const e=1/this.zoom*100;return{transform:`scale(${this.zoom})`,width:e+"%",height:e+"%",pointerEvents:this.interactive?"all":"none"}}get trimmedUrl(){return this.url.length<=33?this.url:this.url.slice(0,15)+"[...]"+this.url.substr(-15)}onReloadTimerChange(){this.setupReloadTimer()}created(){this.setupReloadTimer()}getSettingsDialog(){return s((()=>import("./WebsiteDialog.5c4cb14.js")),["WebsiteDialog.5c4cb14.js","index.5c4cb14.js","index.5c4cb14.css","paneDialogMixin.5c4cb14.js"])}beforeDestroy(){this._reloadTimeout&&clearTimeout(this._reloadTimeout)}setupReloadTimer(){if(this._reloadTimeout&&clearTimeout(this._reloadTimeout),!this.reloadTimer)return;let e=this.reloadTimer.trim();if(e=/[\d.]+s/.test(e)?1e3*parseFloat(e):/[\d.]+h/.test(e)?1e3*parseFloat(e)*60*60:1e3*parseFloat(e)*60,!e)return;const t=Date.now();let r=Math.ceil(t/e)*e-t-20;r<1e3&&(r+=e),this._reloadTimeout=setTimeout((()=>{this._reloadTimeout=null,this.reload(),this.setupReloadTimer()}),r)}async reload(e){this.$refs.iframe.src+="",e&&(this.$refs.iframe.onload=()=>{this.$refs.iframe.onload=null,this.$refs.iframe.focus()})}};m([i("reloadTimer")],u.prototype,"onReloadTimerChange",1),u=m([a({components:{PaneHeader:l},name:"Website"})],u);const p=o(u,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"pane-website"},[t("pane-header",{ref:"paneHeader",attrs:{paneId:e.paneId,settings:()=>s((()=>import("./WebsiteDialog.5c4cb14.js")),["WebsiteDialog.5c4cb14.js","index.5c4cb14.js","index.5c4cb14.css","paneDialogMixin.5c4cb14.js"]),"show-search":!1},scopedSlots:e._u([{key:"menu",fn:function(){return[t("div",{staticClass:"dropdown-item"},[t("label",{staticClass:"checkbox-control -small",on:{click:function(e){e.stopPropagation()}}},[t("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.interactive},on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_INTERACTIVE")}}}),t("div"),t("span",[e._v("Interactive")])])]),t("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(t){return e.reload(!0)}}},[t("i",{staticClass:"icon-refresh"}),t("span",[e._v("Reload")])]),t("div",{staticClass:"dropdown-divider"})]},proxy:!0}])}),e.locked?t("div",{staticClass:"iframe__lock"},[t("div",{staticClass:"ml8 mr8"},[t("p",[e._v(" Load "),t("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"text-condensed",attrs:{title:"url"},domProps:{textContent:e._s(e.trimmedUrl)}}),e._v(" ? ")]),t("div",{staticClass:"text-center"},[t("button",{staticClass:"btn",on:{click:function(t){return e.$store.commit(e.paneId+"/UNLOCK_URL")}}},[e._v(" Yes, authorize ")])])])]):t("div",{staticClass:"iframe__wrapper"},[t("iframe",{ref:"iframe",class:e.invert&&"-solid",style:e.style,attrs:{src:e.url,frameborder:"0",width:"100%",height:"100%",scrolling:!e.interactive&&"no"}})])],1)}),[],!1,null,"d0df68eb",null,null).exports;export{p as default};
